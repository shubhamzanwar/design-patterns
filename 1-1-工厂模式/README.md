# å·¥å‚æ¨¡å¼ ğŸ­

_**æœ¬æ–‡æœ€åˆå‘è¡¨äºæ­¤ [åšå®¢](shubhamzanwar.com/blog)**_

å·¥å‚æ¨¡å¼æ˜¯ä¸€ç§å¸¸ç”¨çš„åˆ›å»ºå‹è®¾è®¡æ¨¡å¼ã€‚ ç”¨æˆ·é€šå¸¸ä½¿ç”¨å®ƒåœ¨å¤šä¸ªé€‰é¡¹ä¸­è¿›è¡Œé€‰æ‹©ã€‚è®©æˆ‘ä»¬ä¸¾ä¸ªä¾‹å­æ¥ç†è§£ã€‚

### å® ç‰©åº—

è®©æˆ‘ä»¬ä»¥ä¸€ä¸ªåœ¨å® ç‰©åº—å¦‚ä½•å·¥ä½œçš„åœºæ™¯ä¸ºä¾‹ã€‚ä¸ºäº†å®Œå…¨ç†è§£è¿™ä¸€ç‚¹ï¼Œæˆ‘ä»¬å°†ä»åº—ä¸»(åˆ›å»ºå·¥å‚çš„â€œå¼€å‘äººå‘˜â€)å’Œå®¢æˆ·(ä½¿ç”¨æ¥å£çš„â€œç”¨æˆ·â€)ä¸¤ä¸ªè§’åº¦æ¥è§‚å¯Ÿå®ç°æ–¹å¼ã€‚

#### åº—ä¸»è§†è§’

å‡è®¾ä½ æ˜¯ä¸€å®¶ç‹—åº—çš„è€æ¿(ä½ åªæŠŠå°ç‹—é€äººé¢†å…»)ã€‚å› ä¸ºä½ æ˜¯åœ¨è½¯ä»¶ä¸–ç•Œä¸­ï¼Œæ¯æ¡ç‹—éƒ½æ˜¯ä½ æ‹¥æœ‰çš„`Dog `ç±»çš„ä¸€ä¸ªå®ä¾‹ã€‚ç°åœ¨ï¼Œå½“å®¢æˆ·åˆ°æ¥æ—¶ï¼Œæ‚¨åªéœ€åˆ›å»ºä¸€ä¸ªæ–°çš„`Dog`å®ä¾‹ï¼Œå¹¶è®©ä»–ä»¬é¢†å…»ã€‚ğŸ¶

ç„¶è€Œï¼Œæœ€è¿‘é¡¾å®¢å¼€å§‹è¦æ±‚å¤šæ ·åŒ–ã€‚ä»–ä»¬ä¹Ÿåœ¨å¯»æ‰¾æ”¶å…»çŒ«çš„é€‰æ‹©ã€‚ğŸ˜¼

ä½œä¸ºä¸€ä¸ªèªæ˜çš„åº—ä¸»ï¼Œä½ å·²ç»æ„è¯†åˆ°è¿™ç§éœ€æ±‚åªä¼šå˜å¾—è¶Šæ¥è¶Šå¤šæ ·åŒ–ã€‚äººä»¬å°†ç»§ç»­æœŸå¾…æ›´å¤šçš„å˜åŒ–ã€‚ğŸ˜¨ğŸ˜¤

**_ä½ éœ€è¦ä¸€ä¸ªå¥å£®çš„ã€å¯æ‰©å±•çš„ç³»ç»Ÿæ¥ä¸ºå®¢æˆ·ç”Ÿæˆæ–°çš„å® ç‰©_**
è¿›å…¥ï¼Œå·¥å‚æ¨¡å¼

ä½ åˆ—å‡ºå® ç‰©çš„æ‰€æœ‰å…±åŒç‰¹å¾ã€‚å®ƒä»¬å¯ä»¥è®©ä½ çŸ¥é“å®ƒä»¬çš„åå­—ï¼Œå®ƒä»¬å‘å‡ºçš„å£°éŸ³å’Œå®ƒä»¬çš„å¹´é¾„ã€‚è¯¥åˆ—è¡¨å…è®¸æ‚¨åˆ›å»ºå…·æœ‰ä»¥ä¸‹åŠŸèƒ½çš„æ¥å£:

```go
type Pet interface {
	GetName() string
	GetAge() int
	GetSound() string
}
```

ç°åœ¨ï¼Œä½ å¯ä»¥åˆ›å»ºä»»æ„æ•°é‡å…·æœ‰ç›¸åŒåŠŸèƒ½çš„å® ç‰©(â€œå®ç°ç›¸åŒçš„æ¥å£â€)ã€‚ä½ å¯ä»¥å…»çŒ«ï¼Œç‹—ï¼Œé±¼ï¼Œé¹¦é¹‰ï¼Œä»»ä½•ä¸œè¥¿-åªè¦å®ç°`Pet`æ¥å£!ğŸ˜¯ ç°åœ¨ï¼Œè®©æˆ‘ä»¬åˆ›å»ºç‹—å’ŒçŒ«:

```go
// pet is a struct that implements Pet interface and
// would be used in any animal struct that we create.
// See `Dog` and `Cat` below
type pet struct {
    name  string
    age   int
    sound string
}

func (p *pet) GetName() string {
    return p.name
}

func (p *pet) GetSound() string {
    return p.sound
}

func (p *pet) GetAge() int {
    return p.age
}

type Dog struct {
    pet
}

type Cat struct {
    pet
}
```

ä½ è¿˜éœ€è¦ä¸€ä¸ªå·¥å‚ï¼Œå®ƒä¼šæ ¹æ®ç”¨æˆ·çš„è¯·æ±‚è¿”å›ä¸åŒçš„å® ç‰©(ç‹—/çŒ«)ã€‚ç®€å•åœ°è¯´ï¼Œå¦‚æœç”¨æˆ·æƒ³è¦ä¸€åªç‹—ï¼Œå°±ç»™ä»–ä»¬ä¸€åªå¯çˆ±çš„ç‹—ã€‚ğŸ™„ğŸ¦®

```go
func GetPet(petType string) Pet {
	if petType == "dog" {
		return &Dog{
			pet{
				name:  "Chester",
				age:   2,
				sound: "bark",
			},
		}
	}

	if petType == "cat" {
		return &Cat{
			pet{
				name:  "Mr. Buttons",
				age:   3,
				sound: "meow",
			},
		}
	}

	return nil
}
```

æ³¨æ„`GetPet`'å‡½æ•°å¦‚ä½•åªå‘Šè¯‰å®ƒè¿”å›`Pet`-è€Œä¸æ˜¯æ˜¾å¼åœ°è¿”å›` Dog `æˆ–`Cat`ã€‚å› æ­¤ï¼Œè¿™ä¸ªå‡½æ•°æ˜¯å¼€æ”¾æ‰©å±•çš„(é€šè¿‡ç¼–å†™æ›´å¤šç»“æ„å›¾å®ç° `Pet `æ¥å£)ã€‚å¢åŠ æ›´å¤šçš„`Pet`ç±»å‹ä¸ä¼šå½±å“ç°æœ‰ç”¨æˆ·åªæƒ³è¦`Dog`ã€‚æ­å–œä½ !ä½ å·²ç»ä½¿ç”¨å·¥å‚æ¨¡å¼åˆ›å»ºäº†ä¸€ä¸ªå® ç‰©å•†åº—ã€‚ğŸ‰â¤ï¸

#### å®¢æˆ·è§†è§’

è®©æˆ‘ä»¬ä»ç”¨æˆ·çš„è§’åº¦æ¥çœ‹è¿™ä¸ªé—®é¢˜ã€‚ä»–ä»¬æ‰€éœ€è¦åšçš„å°±æ˜¯ç”¨ä»–ä»¬æƒ³è¦çš„ä»»ä½•é…ç½®(åœ¨æœ¬ä¾‹ä¸­ä¸º`type`)è°ƒç”¨`GetPet`å‡½æ•°ã€‚é€šè¿‡è¿”å›å€¼ï¼Œä»–ä»¬åªçŸ¥é“ä»–ä»¬å¾—åˆ°äº†ä¸€ä¸ª`pet`ã€‚ğŸ¤”è¿™åœ¨ç°å®ä¸–ç•Œçš„æ„ä¹‰ä¸Šå¯èƒ½å¬èµ·æ¥å¾ˆå¥‡æ€ªï¼Œä½†åœ¨ä»£ç æ–¹é¢ï¼Œæœ€å¥½ä¿æŒæŠ½è±¡ã€‚ğŸ˜Œ

ç”¨æˆ·å¯ä»¥éšå¿ƒæ‰€æ¬²åœ°â€œä½¿ç”¨â€`Pet`ã€‚ä¸ç®¡ä»–ä»¬å¾—åˆ°çš„æ˜¯ä»€ä¹ˆç±»å‹çš„å® ç‰©ï¼Œè¿™ç§â€œç”¨æ³•â€éƒ½æ˜¯ä¸€æ ·çš„(å› ä¸ºæ‰€æœ‰çš„å® ç‰©éƒ½å®ç°äº†å…¬å…±æ¥å£!!)

è®©æˆ‘ä»¬æ¥æµ‹è¯•ä¸€ä¸‹

```go
func describePet(pet Pet) string {
    return fmt.Sprintf("%s is %d years old. Its sound is %s", pet.GetName(), pet.GetAge(), pet.GetSound())
}

func main() {
    petType := "dog"

    dog := GetPet(petType)
    petDescription := describePet(dog)

    fmt.Println(petDescription)
    fmt.Println("-------------")

    petType = "cat"
    cat := GetPet(petType)
    petDescription = describePet(cat)

    fmt.Println(petDescription)
}
```

è¾“å‡ºåº”è¯¥å¦‚ä¸‹æ‰€ç¤º:

```text
Chester is 2 years old. Its sound is bark
-------------
Mr. Buttons is 3 years old. Its sound is meow
```
